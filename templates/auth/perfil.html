{% extends 'auth/auth_layout.html' %}

{% block content %}

<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
  <a class="navbar-brand" href="{{ url_for('bienvenido') }}">EntreCOL+</a>
  <div class="ms-auto"></div>
</nav>

<!-- Encabezado tipo banner -->
<div class="bg-light py-4 px-5 mb-4 rounded shadow-sm">
  <h1 class="display-5 fw-bold text-dark">Tu perfil</h1>
  <p class="lead text-muted">Aquí puedes ver tu información personal, <strong>{{ perfil['nombre_usuario'] }}</strong>.</p>
</div>

<!-- Mensajes flash -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}

<!-- Contenido del perfil -->
<div class="container pb-5">
  <div class="row align-items-start">
    <!-- Foto de perfil a la izquierda -->
    <div class="col-md-4 text-center mb-4 mb-md-0">
      <img src="{{ url_for('static', filename='img/Cristiano_Ronaldo_2018.jpg') }}" alt="Foto de perfil"
           class="img-fluid rounded shadow" style="max-height: px; object-fit: cover;">
    </div>

    <!-- Información personal a la derecha -->
    <div class="col-md-8 ps-4">
      <div class="mb-3">
        <h4 class="mb-1">Nombre del Empleado:</h4>
        <p class="fs-5 text-muted">{{ perfil['nombre_empleado'] }}</p>
      </div>  

      <div class="mb-3">
        <h4 class="mb-1">Fecha de Ingreso:</h4>
        <p class="fs-5 text-muted">{{ perfil['fechaIngreso'] }}</p>
      </div>

      <div class="mb-3">
        <h4 class="mb-1">EPS:</h4>
        <p class="fs-5 text-muted">{{ perfil['eps'] }}</p>
      </div>

      <div class="mb-3">
        <h4 class="mb-1">ARL:</h4>
        <p class="fs-5 text-muted">{{ perfil['arl'] }}</p>
      </div>

      <div class="mb-3">
        <h4 class="mb-1">Pensión:</h4>
        <p class="fs-5 text-muted">{{ perfil['pension'] }}</p>
      </div>

      <div class="mb-3">
        <h4 class="mb-1">Rol:</h4>
        <p class="fs-5 text-muted">{{ perfil['role'] | capitalize }}</p>
      </div>

      <div class="mb-3">
        <h4 class="mb-1">Cargo:</h4>
        <p class="fs-5 text-muted">{{ perfil['nombre_cargo'] }}</p>
      </div>

      <div class="mb-3">
        <h4 class="mb-1">Dependencia:</h4>
        <p class="fs-5 text-muted">{{ perfil['nombre_dependencia'] }}</p>
      </div>

      <!-- Botones -->
      <div class="mt-4 d-flex gap-3">
        <a href="{{ url_for('inicio') }}" class="btn btn-primary">Volver al Inicio</a>
        <a href="{{ url_for('editar_perfil') }}" class="btn btn-warning">Editar Perfil</a>
        <a href="{{ url_for('cerrar_sesion') }}" class="btn btn-danger">Cerrar Sesión</a>
      </div>
    </div>
  </div>
</div>

{% endblock %}
